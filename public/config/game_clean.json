{
  "player": {
    "initialStats": {
      "hp": 100,
      "maxHp": 100,
      "attack": 10,
      "defense": 5,
      "evasionRate": 0.05
    },
    "levelUpConfig": {
      "experienceTable": [100, 220, 360, 520, 700, 900, 1120, 1360, 1620, 1900],
      "statGrowthRates": {
        "hp": 1.1,
        "attack": 1.2,
        "defense": 1.2
      },
      "maxLevel": 100
    },
    "hungerConfig": {
      "maxValue": 100,
      "decreaseRate": 1,
      "minValue": 0,
      "damageAmount": 1,
      "recoveryAmount": 20,
      "maxOverfeedTime": 10
    },
    "movementConfig": {
      "distance": 1,
      "directions": ["up", "down", "left", "right"],
      "restrictions": []
    }
  },
  "combat": {
    "baseDamageFormula": "{attack * 1.3 * (35/36)^defense} * random(7/8, 9/8)",
    "minDamage": 1,
    "randomRange": {
      "min": 0.875,
      "max": 1.125
    },
    "defenseReductionBase": 0.9722222222222222,
    "attackMultiplier": 1.3,
    "criticalEffect": "defense-ignore",
    "criticalFormula": "{attack * 1.3} * random(7/8, 9/8)",
    "evasionEnabled": true,
    "baseEvasionRate": 0.05,
    "evasionEffect": "damage-zero",
    "evasionTiming": "pre-damage",
    "unavoidableAttackFlag": false,
    "statusEffects": {
      "poison": {
        "id": "poison",
        "name": "Poison",
        "description": "Takes damage each turn",
        "effect": "poison",
        "recoverySystem": {
          "type": "turn-based-probability",
          "baseChance": 0.1,
          "chanceIncrease": 0.05,
          "maxChance": 0.8,
          "formula": "min(baseChance + (turnsElapsed * chanceIncrease), maxChance)"
        }
      },
      "confusion": {
        "id": "confusion",
        "name": "Confusion",
        "description": "Actions target random directions",
        "effect": "confusion",
        "recoverySystem": {
          "type": "turn-based-probability",
          "baseChance": 0.1,
          "chanceIncrease": 0.05,
          "maxChance": 0.8,
          "formula": "min(baseChance + (turnsElapsed * chanceIncrease), maxChance)"
        }
      },
      "paralysis": {
        "id": "paralysis",
        "name": "Paralysis",
        "description": "Cannot move or attack",
        "effect": "paralysis",
        "recoverySystem": {
          "type": "turn-based-probability",
          "baseChance": 0.1,
          "chanceIncrease": 0.05,
          "maxChance": 0.8,
          "formula": "min(baseChance + (turnsElapsed * chanceIncrease), maxChance)"
        }
      },
      "bind": {
        "id": "bind",
        "name": "Bind",
        "description": "Cannot move but can attack",
        "effect": "bind",
        "recoverySystem": {
          "type": "turn-based-probability",
          "baseChance": 0.1,
          "chanceIncrease": 0.05,
          "maxChance": 0.8,
          "formula": "min(baseChance + (turnsElapsed * chanceIncrease), maxChance)"
        }
      }
    },
    "attributeDamageEnabled": true
  },
  "turnSystem": {
    "phases": [
      {
        "phase": "turn-start",
        "description": "ターン開始処理（ターン数カウント、新規敵出現）",
        "conditions": []
      },
      {
        "phase": "player-action-1",
        "description": "プレイヤー1回目行動（移動、攻撃、アイテム使用）",
        "conditions": []
      },
      {
        "phase": "enemy-action-1",
        "description": "敵1回目行動（移動・攻撃）",
        "conditions": []
      },
      {
        "phase": "ally-action-1",
        "description": "味方1回目行動（移動・攻撃）",
        "conditions": []
      },
      {
        "phase": "trap-processing-1",
        "description": "1回目行動後の罠処理",
        "conditions": []
      },
      {
        "phase": "player-action-2",
        "description": "プレイヤー2回目行動（倍速のみ）",
        "conditions": ["player-is-fast"]
      },
      {
        "phase": "enemy-action-2",
        "description": "敵2回目行動（倍速のみ）",
        "conditions": ["enemy-is-fast"]
      },
      {
        "phase": "ally-action-2",
        "description": "味方2回目行動（倍速のみ）",
        "conditions": ["ally-is-fast"]
      },
      {
        "phase": "trap-processing-2",
        "description": "2回目行動後の罠処理",
        "conditions": []
      },
      {
        "phase": "end-turn-recovery",
        "description": "ターン終了時の回復処理",
        "conditions": []
      },
      {
        "phase": "end-turn",
        "description": "ターン終了処理",
        "conditions": []
      }
    ],
    "speedSystem": {
      "normal": {
        "action1": {
          "enabled": true,
          "canMove": true,
          "canAttack": true,
          "canUseItem": true
        },
        "action2": {
          "enabled": false,
          "canMove": false,
          "canAttack": false,
          "canUseItem": false
        },
        "description": "通常速度（1回目行動のみ）"
      },
      "fast": {
        "action1": {
          "enabled": true,
          "canMove": true,
          "canAttack": true,
          "canUseItem": true
        },
        "action2": {
          "enabled": true,
          "canMove": true,
          "canAttack": true,
          "canUseItem": true,
          "adjacentRule": true
        },
        "description": "倍速（2回行動、隣接時は2回目の移動・攻撃をスキップ）"
      },
      "slow": {
        "action1": {
          "enabled": false,
          "canMove": false,
          "canAttack": false,
          "canUseItem": false,
          "skipTurns": 1
        },
        "action2": {
          "enabled": false,
          "canMove": false,
          "canAttack": false,
          "canUseItem": false
        },
        "description": "鈍足（2ターンに1回、強制的に待機）"
      }
    },
    "endTurnProcessing": [
      {
        "process": "death-check",
        "order": 1,
        "description": "死亡エンティティのチェックと削除"
      },
      {
        "process": "status-recovery",
        "order": 2,
        "description": "状態異常の回復判定"
      },
      {
        "process": "slip-damage",
        "order": 3,
        "description": "毒などのスリップダメージ"
      },
      {
        "process": "hunger-decrease",
        "order": 4,
        "description": "満腹度の減少"
      }
    ]
  },
  "dungeon": {
    "coordinateConstraints": {
      "roomCenterEven": true,
      "corridorOddOnly": true
    },
    "defaultTileset": {
      "imagePath": "/images/base.png",
      "tileSize": 32,
      "tiles": {
        "floor": { "x": 1, "y": 4, "width": 1, "height": 1 },
        "wall": { "x": 1, "y": 10, "width": 1, "height": 1 },
        "stairs-down": { "x": 6, "y": 51, "width": 1, "height": 1 },
        "stairs-up": { "x": 6, "y": 52, "width": 1, "height": 1 }
      },
      "overlay": {
        "wall": { "x": 1, "y": 10, "width": 1, "height": 1 }
      }
    },
    "dungeonSpecificTilesets": {
      "beginner-cave": {
        "imagePath": "/images/base.png",
        "tileSize": 32,
        "tiles": {
          "floor": { "x": 1, "y": 4, "width": 1, "height": 1 },
          "wall": { "x": 1, "y": 10, "width": 1, "height": 1 },
          "stairs-down": { "x": 6, "y": 51, "width": 1, "height": 1 },
          "stairs-up": { "x": 6, "y": 52, "width": 1, "height": 1 }
        },
        "overlay": {
          "wall": { "x": 1, "y": 10, "width": 1, "height": 1 }
        }
      }
    }
  },
  "ui": {
    "viewport": {
      "tilesX": 21,
      "tilesY": 15,
      "tileSize": 32
    },
    "messages": {
      "maxMessages": 100,
      "fadeOutTime": 5000
    },
    "inventory": {
      "maxItems": 20,
      "autoSort": true
    }
  },
  "items": {
    "spritesheet": {
      "imagePath": "/images/base.png",
      "tileSize": 32,
      "sprites": {
        "healing-potion": { "x": 0, "y": 0, "width": 1, "height": 1 },
        "magic-potion": { "x": 1, "y": 0, "width": 1, "height": 1 },
        "food": { "x": 2, "y": 0, "width": 1, "height": 1 },
        "unknown-item": { "x": 3, "y": 0, "width": 1, "height": 1 }
      }
    },
    "templates": {
      "healing-potion": {
        "id": "healing-potion",
        "name": "Healing Potion",
        "description": "Restores HP",
        "type": "consumable",
        "effect": "heal",
        "value": 50,
        "weight": 1,
        "rarity": "common"
      },
      "magic-potion": {
        "id": "magic-potion",
        "name": "Magic Potion",
        "description": "Restores MP",
        "type": "consumable",
        "effect": "restore-mp",
        "value": 30,
        "weight": 1,
        "rarity": "uncommon"
      },
      "food": {
        "id": "food",
        "name": "Food",
        "description": "Restores hunger",
        "type": "consumable",
        "effect": "restore-hunger",
        "value": 20,
        "weight": 1,
        "rarity": "common"
      }
    }
  },
  "messages": {
    "system": {
      "gameStart": "ゲーム開始",
      "gameOver": "ゲームオーバー",
      "levelUp": "レベルアップ！",
      "itemFound": "アイテムを発見した",
      "itemUsed": "アイテムを使用した",
      "enemyDefeated": "敵を倒した",
      "playerDefeated": "プレイヤーが倒れた",
      "stairsFound": "階段を発見した",
      "stairsUsed": "階段を使用した",
      "trapActivated": "罠が発動した",
      "statusEffectApplied": "状態異常が発動した",
      "statusEffectRecovered": "状態異常が回復した",
      "hungerWarning": "空腹になった",
      "hungerCritical": "飢餓状態になった",
      "hungerRecovered": "満腹になった",
      "inventoryFull": "インベントリが満杯",
      "itemDropped": "アイテムを落とした",
      "itemPickedUp": "アイテムを拾った",
      "attackHit": "攻撃が命中した",
      "attackMiss": "空振りした",
      "stairsConfirmDown": "次の階へ進みますか？",
      "stairsConfirmUp": "前の階へ戻りますか？",
      "stairsAdvanceDown": "次の階へ進んだ",
      "stairsAdvanceUp": "前の階へ戻った",
      "stairsDecline": "いいえを選んだ",
      "itemUseUnimplemented": "決定: アイテム使用は未実装"
    }
  }
}
